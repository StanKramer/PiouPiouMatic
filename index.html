<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PiouPiouMatic â€” Interface MÃ©dicale</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Son -->
  <button id="sound-toggle" class="sound-btn" title="Activer/DÃ©sactiver le son">ğŸ”‡</button>

  <!-- Bandeau -->
  <header class="header">
    <img src="logo_pioupioumatic.png" alt="Logo PiouPiouMatic" class="logo" />
    <div class="system-status">ğŸŸ¢ SystÃ¨me prÃªt â€” En attente de diagnostic</div>
  </header>

  <!-- Zone principale -->
  <main>
    <!-- Carte du corps -->
    <section id="body-map" aria-label="Carte du corps">
      <img src="body_both.png" alt="Corps humain â€” face et dos" id="body-image" />
      <!-- Hotspots injectÃ©s par script.js -->
    </section>

    <!-- Panneau latÃ©ral -->
    <aside id="injury-panel" aria-label="Blessures enregistrÃ©es">
      <h2>Blessures enregistrÃ©es</h2>
      <button id="reset-btn" class="secondary">â†» RÃ©initialiser</button>
      <button id="recalibrate-btn" class="secondary" title="Relancer la calibration">â™»ï¸ Recalibrer</button>
      <div id="injury-list" class="injury-list"><p>Aucune blessure dÃ©tectÃ©e</p></div>
      <div id="panel-summary" class="panel-summary">
        <hr>
        <p>ğŸ“ Alignement : <span id="align-status">âš ï¸ recalibrage requis</span></p>
        <p>ğŸ•’ DerniÃ¨re calibration : <span id="last-calib">â€”</span></p>
      </div>
    </aside>
  </main>

  <!-- Modale de saisie -->
  <div id="injury-modal" class="modal hidden" aria-hidden="true" role="dialog">
    <div class="modal-content">
      <h3 id="zone-title">Nouvelle blessure</h3>

      <label for="injury-type">Type de blessure</label>
      <select id="injury-type">
        <option value="arme feu">Arme Ã  feu</option>
        <option value="arme blanche">Arme blanche</option>
        <option value="contondante">Contondante</option>
        <option value="fracture">Fracture</option>
        <option value="brulure">BrÃ»lure</option>
        <option value="entorse">Entorse</option>
        <option value="luxation">Luxation</option>
        <option value="morsure">Morsure</option>
        <option value="ecrasement">Ã‰crasement</option>
        <option value="perforation">Perforation</option>
        <option value="avp">Accident de vÃ©hicule</option>
        <option value="chute">Chute</option>
      </select>

      <label for="pain-level">Douleur (1â€“10)</label>
      <div class="range-line">
        <input type="range" id="pain-level" min="1" max="10" value="5" />
        <span id="pain-value">5</span>
      </div>

      <div class="diagnosis"><strong>Diagnostic :</strong> <p id="diagnosis-text">â€”</p></div>
      <div class="symptoms"><strong>SymptÃ´mes :</strong> <p id="symptom-text">â€”</p></div>
      <div class="treatment"><strong>Traitements :</strong> <p id="treatment-text">â€”</p></div>
      <div class="advice"><strong>Conseils :</strong> <p id="advice-text">â€”</p></div>
      <div class="advanced-details"><strong>DÃ©tails de procÃ©dure :</strong> <p id="details-text">â€”</p></div>

      <hr>
      <!-- Options RP impactant facturation -->
      <fieldset class="billing-group">
        <legend>ğŸ’µ Facturation â€” Options</legend>

        <label class="chk">
          <input type="checkbox" id="is-public-agent" />
          Agent des services publics (â€“50% total)
        </label>

        <label class="chk">
          <input type="checkbox" id="ext-revive" />
          RÃ©animation Ã  lâ€™extÃ©rieur
        </label>
        <label for="revive-zone" class="sub">
          Zone de rÃ©animation
          <select id="revive-zone">
            <option value="ls">Los Santos (+1 500$)</option>
            <option value="bc">Blaine County (+2 000$)</option>
            <option value="cp">Cayo Perico (+3 000$)</option>
          </select>
        </label>

        <div class="sub">
          <label class="chk">
            <input type="checkbox" id="svc-hospital" />
            Soins hospitaliers (HÃ´pital +800$)
          </label>
          <label class="chk">
            <input type="checkbox" id="svc-boat" />
            Intervention Bateau (+2 000$)
          </label>
          <label class="chk">
            <input type="checkbox" id="svc-heli" />
            Intervention HÃ©licoptÃ¨re (+3 000$)
          </label>
        </div>
      </fieldset>

      <div class="buttons">
        <button id="close-modal">Annuler</button>
        <button id="save-injury" class="primary">Ajouter</button>
      </div>
    </div>
  </div>

  <!-- Popup Calibration RP -->
  <div id="calibration-overlay" class="calib-overlay hidden" role="dialog" aria-modal="true">
    <div class="calib-card">
      <h3>ğŸ©º Calibration requise</h3>
      <p id="calib-instructions">
        Vise le <strong>centre vital</strong> de PiouPiou (vue de face),<br />
        puis vise le <strong>point secret dorsal</strong> de PiouPiou (vue de dos).
      </p>
      <div class="calib-actions">
        <button id="calib-cancel" class="secondary">Ignorer</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
