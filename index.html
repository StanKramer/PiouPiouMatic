<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PiouPiouMatic — Interface Médicale</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Toggle audio -->
  <button id="sound-toggle" class="sound-btn" title="Activer/Désactiver le son">🔇</button>

  <!-- Bandeau -->
  <header class="header">
    <img src="logo_pioupioumatic.png" alt="Logo PiouPiouMatic" class="logo" />
    <div class="system-status">🟢 Système prêt — En attente de diagnostic</div>
  </header>

  <!-- Zone principale -->
  <main>
    <!-- Carte du corps -->
    <section id="body-map" aria-label="Carte du corps">
      <img src="body_both.png" alt="Corps humain — face et dos" id="body-image" />
      <!-- Hotspots ajoutés par script.js -->
    </section>

    <!-- Panneau latéral -->
    <aside id="injury-panel" aria-label="Blessures enregistrées">
      <h2>Blessures enregistrées</h2>
      <button id="reset-btn" class="secondary">↻ Réinitialiser</button>
      <button id="recalibrate-btn" class="secondary" title="Relancer la calibration">♻️ Recalibrer</button>
      <div id="injury-list" class="injury-list">
        <p>Aucune blessure détectée</p>
      </div>
    </aside>
  </main>

  <!-- Modale de saisie de blessure -->
  <div id="injury-modal" class="modal hidden" aria-hidden="true" role="dialog">
    <div class="modal-content">
      <h3 id="zone-title">Nouvelle blessure</h3>

      <label for="injury-type">Type de blessure</label>
      <select id="injury-type">
        <option value="arme feu">Arme à feu</option>
        <option value="arme blanche">Arme blanche</option>
        <option value="contondante">Contondante</option>
        <option value="fracture">Fracture</option>
        <option value="brulure">Brûlure</option>
        <option value="entorse">Entorse</option>
        <option value="luxation">Luxation</option>
        <option value="morsure">Morsure</option>
        <option value="ecrasement">Écrasement</option>
        <option value="perforation">Perforation</option>
        <option value="avp">Accident de véhicule</option>
        <option value="chute">Chute</option>
      </select>

      <label for="pain-level">Douleur (1–10)</label>
      <div class="range-line">
        <input type="range" id="pain-level" min="1" max="10" value="5" />
        <span id="pain-value">5</span>
      </div>

      <div class="diagnosis"><strong>Diagnostic :</strong> <p id="diagnosis-text">—</p></div>
      <div class="symptoms"><strong>Symptômes :</strong> <p id="symptom-text">—</p></div>
      <div class="treatment"><strong>Traitements :</strong> <p id="treatment-text">—</p></div>
      <div class="advice"><strong>Conseils :</strong> <p id="advice-text">—</p></div>
      <div class="advanced-details"><strong>Détails de procédure :</strong> <p id="details-text">—</p></div>

      <div class="buttons">
        <button id="close-modal">Annuler</button>
        <button id="save-injury" class="primary">Ajouter</button>
      </div>
    </div>
  </div>

  <!-- Popup de calibration semi-automatique -->
  <div id="calibration-overlay" class="calib-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="calib-title">
    <div class="calib-card">
      <h3 id="calib-title">🩺 Calibration requise</h3>
      <p id="calib-instructions">
        Vise le <strong>centre vital</strong> de PiouPiou (vue de face).<br/>
        Puis vise le <strong>point secret dorsal</strong> de PiouPiou (vue de dos).
      </p>
      <div class="calib-actions">
        <button id="calib-cancel" class="secondary">Ignorer</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
